{% extends "layout.html" %}

{% block title %}Quiénes Somos - Freire FPV{% endblock %}

{% block nav_quienes %}active{% endblock %}

{% block footer_question %}¿Cómo puedo ayudarte a capturar tu historia desde una nueva perspectiva?{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/testimonials.css') }}?v={{ range(100000, 999999) | random }}">
{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>Sobre Freire FPV</h1>
        <p>Conóceme y descubre mi pasión por los drones FPV</p>
    </div>
</section>

<section class="about-section">
    <div class="container">
        <div class="about-content">
            <div class="about-image animate-on-scroll">
                <div class="image-placeholder" aria-label="Foto de Carlos">
                    <img src="{{ url_for('static', filename='img/carlos-piloto-fpv.png') }}" alt="Carlos Pastor Freire pilotando drones FPV">
                </div>
            </div>
            <div class="about-text animate-on-scroll">
                <h2>Carlos Pastor Freire</h2>
                <h3>Piloto de drones FPV & Fotógrafo</h3>
                <p>Hola, soy Carlos Pastor Freire, un malagueño de 28 años apasionado por la fotografía y los drones FPV. Desde Málaga Capital, recorro la Costa del Sol capturando perspectivas únicas con un estilo dinámico y creativo.</p>
                <p>Mi aventura comenzó hace muchos años en simulador y desde hace 3 en la vida real! Desde entonces me he especializado en el pilotaje FPV (First Person View), que permite maniobras y tomas imposibles con drones convencionales.</p>
                <p>Mi misión es ofrecer grabaciones aéreas que sorprendan y emocionen. Combino mi conocimiento técnico con una visión artística para entregar contenido de alta calidad que supere las expectativas de mis clientes.</p>
                <div class="skills">
                    <div class="skill">
                        <span class="skill-name">Pilotaje FPV</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="skill">
                        <span class="skill-name">Edición de Video</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 90%"></div>
                        </div>
                    </div>
                    <div class="skill">
                        <span class="skill-name">Fotografía</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 85%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>¿Quieres conocer mi equipo profesional?</h2>
            <p style="color: #333; font-weight: 500;">Descubre los drones, cámaras y herramientas que utilizo para crear contenido audiovisual de alta calidad.</p>
            <a href="{{ url_for('mi_equipo') }}" class="btn-primary">Ver mi equipamiento</a>
        </div>
    </div>
</section>

<section class="testimonials" style="background-color: #1a2035; padding: 1.8rem 0; margin-top: 3rem; color: #fff;">
    <div class="container">
        <h2 class="section-title" style="color: #fff; margin-bottom: 1.8rem; font-size: 2.2rem; position: relative; text-align: center;">Lo que dicen mis clientes</h2>
        <div class="testimonial-slider">
            {% if testimonios %}
                {% for testimonio in testimonios %}
                <div class="testimonial-slide" id="testimonio-{{ testimonio.id }}" {% if testimonio.token %}data-token="{{ testimonio.token }}"{% else %}data-token="system"{% endif %}>
                    <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                        <button class="delete-testimonial" style="position: absolute; top: 10px; right: 10px; background: none; border: none; color: var(--color-primary); font-size: 18px; cursor: pointer; opacity: 0.7; transition: all 0.3s ease;">&times;</button>
                        <p style="font-size: 1rem; line-height: 1.6; font-weight: 400; color: #fff; margin-bottom: 1rem; text-align: center; font-style: italic;">"{{ testimonio.texto }}"</p>
                        <div class="client-info" style="text-align: center; margin-top: 1rem;">
                            <span class="client-name">{{ testimonio.nombre }}</span>
                            <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">{{ testimonio.ocupacion }}</span>
                            <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">{{ testimonio.fecha_creacion.strftime('%d %B %Y') }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <!-- Testimonios predeterminados -->
                <div class="testimonial-slide" id="testimonio-default-1" data-token="system">
                    <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                        <button class="delete-testimonial" style="position: absolute; top: 10px; right: 10px; background: none; border: none; color: var(--color-primary); font-size: 18px; cursor: pointer; opacity: 0.7; transition: all 0.3s ease;">&times;</button>
                        <p style="font-size: 1rem; line-height: 1.6; font-weight: 400; color: #fff; margin-bottom: 1rem; text-align: center; font-style: italic;">"Carlos capturó la esencia de nuestra casa de una manera que nunca habíamos imaginado. Las tomas aéreas son simplemente espectaculares."</p>
                        <div class="client-info" style="text-align: center; margin-top: 1rem;">
                            <span class="client-name">Ana Martínez</span>
                            <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Propietaria Villa en Marbella</span>
                            <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">15 marzo 2024</span>
                        </div>
                    </div>
                </div>
                <div class="testimonial-slide" id="testimonio-default-2" data-token="system">
                    <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                        <button class="delete-testimonial" style="position: absolute; top: 10px; right: 10px; background: none; border: none; color: var(--color-primary); font-size: 18px; cursor: pointer; opacity: 0.7; transition: all 0.3s ease;">&times;</button>
                        <p style="font-size: 1rem; line-height: 1.6; font-weight: 400; color: #fff; margin-bottom: 1rem; text-align: center; font-style: italic;">"Contraté a Freire FPV para grabar nuestro evento deportivo y el resultado superó todas nuestras expectativas. Definitivamente volveremos a trabajar juntos."</p>
                        <div class="client-info" style="text-align: center; margin-top: 1rem;">
                            <span class="client-name">Juan Gómez</span>
                            <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Organizador de Eventos</span>
                            <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">7 junio 2024</span>
                        </div>
                    </div>
                </div>
                <div class="testimonial-slide" id="testimonio-default-3" data-token="system">
                    <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 2rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                        <button class="delete-testimonial" style="position: absolute; top: 10px; right: 10px; background: none; border: none; color: var(--color-primary); font-size: 18px; cursor: pointer; opacity: 0.7; transition: all 0.3s ease;">&times;</button>
                        <p style="font-size: 1.1rem; line-height: 1.7; font-weight: 400; color: #fff; margin-bottom: 1.5rem; text-align: center; font-style: italic;">"El video promocional que Carlos creó para nuestro colegio ha sido un éxito total. Su profesionalidad y creatividad son excepcionales."</p>
                        <div class="client-info" style="text-align: center; margin-top: 1rem;">
                            <span class="client-name">María Sánchez</span>
                            <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Directora de Colegio</span>
                            <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">12 septiembre 2024</span>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
        <div class="testimonial-dots" style="display: flex; justify-content: center; margin-top: 2rem;">
            {% for i in range(testimonios|length) %}
                <span class="dot {% if loop.index0 == 0 %}active{% endif %}" style="width: 12px; height: 12px; border-radius: 50%; background-color: {% if loop.index0 == 0 %}var(--color-primary){% else %}rgba(255, 255, 255, 0.3){% endif %}; margin: 0 6px; cursor: pointer; {% if loop.index0 == 0 %}transform: scale(1.2);{% endif %}"></span>
            {% endfor %}
        </div>
        <div style="text-align: center; margin-top: 2rem; margin-bottom: 1rem;" id="testimonial-toggle">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <button id="add-testimonial-btn" style="background: linear-gradient(135deg, #ff8a00, #ffa200); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-weight: 600; font-size: 24px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(255, 138, 0, 0.4); margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center;">+</button>
                <span style="font-size: 0.9rem; color: #f8f9fa;">Añadir mi opinión</span>
            </div>
        </div>
        
        <!-- Formulario integrado de testimonios (inicialmente oculto) -->
        <div id="testimonial-form-container" style="display: none; max-width: 600px; margin: 2rem auto; background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); border-left: 4px solid var(--color-primary);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3 style="color: white; margin: 0; font-size: 1.4rem;">Comparte tu experiencia</h3>
                <button id="close-form-btn" style="background: none; border: none; color: #ffa200; font-size: 24px; cursor: pointer; font-weight: bold;">&times;</button>
            </div>
            <form id="testimonial-form">
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="testimonial-name" style="display: block; color: white; margin-bottom: 5px; font-weight: 500;">Nombre completo</label>
                    <input type="text" id="testimonial-name" name="testimonial-name" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: white;" placeholder="Tu nombre" required>
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="testimonial-role" style="display: block; color: white; margin-bottom: 5px; font-weight: 500;">Ocupación o empresa</label>
                    <input type="text" id="testimonial-role" name="testimonial-role" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: white;" placeholder="Ej: Propietario de negocio, Fotógrafo, etc." required>
                </div>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label for="testimonial-text" style="display: block; color: white; margin-bottom: 5px; font-weight: 500;">Tu opinión</label>
                    <textarea id="testimonial-text" name="testimonial-text" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: white; height: 100px;" placeholder="Cuéntanos tu experiencia con Freire FPV..." required></textarea>
                </div>
                <div id="submit-container" style="position: relative;">
                    <button id="submit-testimonial" type="submit" style="width: 100%; background: linear-gradient(135deg, #ff8a00, #ffa200); color: white; border: none; padding: 12px; border-radius: 5px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-top: 10px; box-shadow: 0 4px 15px rgba(255, 138, 0, 0.3);">Enviar opinión</button>
                </div>
            </form>
        </div>
    </div>
</section>





{% endblock %}

{% block styles %}
<style>
    /* Timestamp: {{ range(100000, 999999) | random }} */
    .equipment-link {
        display: block;
        height: 100%;
        text-decoration: none;
        color: inherit;
    }
    
    .equipment-item:hover .equipment-link {
        color: inherit;
    }
    
    .cta-secondary {
        background: #f8f9fa;
        margin-top: 2rem;
        padding: 1.25rem 0;
        border-top: 1px solid #e9ecef;
    }
    
    .cta-secondary h2 {
        color: #333;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }
    
    .cta-secondary p {
        color: #333;
        margin-bottom: 0;
        font-size: 0.95rem;
        font-weight: 500;
    }
    
    .cta-secondary .btn-primary {
        background-color: #ff7d00;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }
    
    .cta-secondary .btn-primary:hover {
        background-color: #ff9a40;
        transform: translateY(-2px);
    }
    
    /* Estilos mejorados para la sección de testimonios */
    .testimonials {
        background-color: #1a2035;
        padding: 2rem 0;
        margin-top: 3rem;
        color: #fff;
    }
    
    .testimonials .section-title {
        color: #fff;
        margin-bottom: 1.5rem;
        font-size: 2rem;
        position: relative;
        text-align: center;
    }
    
    .testimonials .section-title:after {
        content: '';
        position: absolute;
        bottom: -12px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(to right, var(--color-primary), var(--color-accent));
        border-radius: 2px;
    }
    
    .testimonial-content {
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 1.5rem;
        margin: 0 auto;
        max-width: 800px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        position: relative;
        border-left: 4px solid var(--color-primary);
    }
    
    .testimonial-content:before {
        content: '"';
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 4rem;
        line-height: 1;
        color: var(--color-primary);
        opacity: 0.3;
        font-family: Georgia, serif;
    }
    
    .testimonial-content p {
        font-size: 1rem;
        line-height: 1.6;
        font-weight: 400;
        color: #fff;
        margin-bottom: 1rem;
        text-align: center;
        font-style: italic;
    }
    
    .client-info {
        text-align: center;
        margin-top: 1rem;
    }
    
    .client-name {
        display: block;
        font-weight: 600;
        background: linear-gradient(135deg, #ff8a00, #ffa200, #ffeecc);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
        font-size: 1.2rem;
        margin-bottom: 0.25rem;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .client-role {
        display: block;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
    }
    
    .testimonial-dots {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
    }
    
    .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.3);
        margin: 0 6px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }
    
    .dot.active {
        background-color: var(--color-primary);
        transform: scale(1.2);
    }
    
    .dot:hover {
        background-color: rgba(255, 255, 255, 0.7);
    }
</style>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/testimonials.js') }}"></script>
{% endblock %}
