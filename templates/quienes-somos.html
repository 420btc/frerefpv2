{% extends "layout.html" %}

{% block title %}Quiénes Somos - Freire FPV{% endblock %}

{% block nav_quienes %}active{% endblock %}

{% block footer_question %}¿Cómo puedo ayudarte a capturar tu historia desde una nueva perspectiva?{% endblock %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/testimonials.css') }}?v={{ range(100000, 999999) | random }}">
{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>Sobre Freire FPV</h1>
        <p>Conóceme y descubre mi pasión por los drones FPV</p>
    </div>
</section>

<section class="about-section">
    <div class="container">
        <div class="about-content">
            <div class="about-image animate-on-scroll">
                <div class="image-placeholder" aria-label="Foto de Carlos">
                    <img src="{{ url_for('static', filename='img/carlos-piloto-fpv.png') }}" alt="Carlos Pastor Freire pilotando drones FPV">
                </div>
            </div>
            <div class="about-text animate-on-scroll">
                <h2>Carlos Pastor Freire</h2>
                <h3>Piloto de drones FPV & Fotógrafo</h3>
                <p>Hola, soy Carlos Pastor Freire, un malagueño de 28 años apasionado por la fotografía y los drones FPV. Desde Málaga Capital, recorro la Costa del Sol capturando perspectivas únicas con un estilo dinámico y creativo.</p>
                <p>Mi aventura comenzó hace muchos años en simulador y desde hace 3 en la vida real! Desde entonces me he especializado en el pilotaje FPV (First Person View), que permite maniobras y tomas imposibles con drones convencionales.</p>
                <p>Mi misión es ofrecer grabaciones aéreas que sorprendan y emocionen. Combino mi conocimiento técnico con una visión artística para entregar contenido de alta calidad que supere las expectativas de mis clientes.</p>
                <div class="skills">
                    <div class="skill">
                        <span class="skill-name">Pilotaje FPV</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="skill">
                        <span class="skill-name">Edición de Video</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 90%"></div>
                        </div>
                    </div>
                    <div class="skill">
                        <span class="skill-name">Fotografía</span>
                        <div class="skill-bar">
                            <div class="skill-level" style="width: 85%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>¿Quieres conocer mi equipo profesional?</h2>
            <p style="color: #333; font-weight: 500;">Descubre los drones, cámaras y herramientas que utilizo para crear contenido audiovisual de alta calidad.</p>
            <a href="{{ url_for('mi_equipo') }}" class="btn-primary">Ver mi equipamiento</a>
        </div>
    </div>
</section>

<section class="testimonials" style="background-color: #1a2035; padding: 1.8rem 0; margin-top: 3rem; color: #fff;">
    <div class="container">
        <h2 class="section-title" style="color: #fff; margin-bottom: 1.8rem; font-size: 2.2rem; position: relative; text-align: center;">Lo que dicen mis clientes</h2>
        <div class="testimonial-slider">
            <div class="testimonial-slide">
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1rem; line-height: 1.6; font-weight: 400; color: #fff; margin-bottom: 1rem; text-align: center; font-style: italic;">"Carlos capturó la esencia de nuestra casa de una manera que nunca habíamos imaginado. Las tomas aéreas son simplemente espectaculares."</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">Ana Martínez</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Propietaria Villa en Marbella</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">15 marzo 2024</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-slide">
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 1.5rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1rem; line-height: 1.6; font-weight: 400; color: #fff; margin-bottom: 1rem; text-align: center; font-style: italic;">"Contraté a Freire FPV para grabar nuestro evento deportivo y el resultado superó todas nuestras expectativas. Definitivamente volveremos a trabajar juntos."</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">Juan Gómez</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Organizador de Eventos</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">7 junio 2024</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-slide">
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 2rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1.1rem; line-height: 1.7; font-weight: 400; color: #fff; margin-bottom: 1.5rem; text-align: center; font-style: italic;">"El video promocional que Carlos creó para nuestro colegio ha sido un éxito total. Su profesionalidad y creatividad son excepcionales."</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">María Sánchez</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Directora de Colegio</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">12 septiembre 2024</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-slide">
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 2rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1.1rem; line-height: 1.7; font-weight: 400; color: #fff; margin-bottom: 1.5rem; text-align: center; font-style: italic;">"Como agente inmobiliario, necesitaba destacar mis propiedades de manera única. Las grabaciones aéreas de Carlos han sido clave para cerrar ventas rápidamente. Sus videos muestran detalles que las fotografías no pueden capturar."</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">Roberto Núñez</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Agente Inmobiliario</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">5 noviembre 2024</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-slide">
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 2rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1.1rem; line-height: 1.7; font-weight: 400; color: #fff; margin-bottom: 1.5rem; text-align: center; font-style: italic;">"Contratamos a Freire FPV para grabar nuestra boda y fue la mejor decisión. La perspectiva aérea capturó momentos mágicos que un fotógrafo convencional no habría podido. Muy recomendable para cualquier celebración especial."</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">Elena y Pedro Jiménez</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Recién casados</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">8 enero 2025</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="testimonial-dots" style="display: flex; justify-content: center; margin-top: 2rem;">
            <span class="dot active" style="width: 12px; height: 12px; border-radius: 50%; background-color: var(--color-primary); margin: 0 6px; cursor: pointer; transform: scale(1.2);"></span>
            <span class="dot" style="width: 12px; height: 12px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); margin: 0 6px; cursor: pointer;"></span>
            <span class="dot" style="width: 12px; height: 12px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); margin: 0 6px; cursor: pointer;"></span>
            <span class="dot" style="width: 12px; height: 12px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); margin: 0 6px; cursor: pointer;"></span>
            <span class="dot" style="width: 12px; height: 12px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.3); margin: 0 6px; cursor: pointer;"></span>
        </div>
        <div style="text-align: center; margin-top: 2rem; margin-bottom: 1rem;">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <button id="add-testimonial-btn" style="background-color: #ff7d00; color: white; border: none; width: 50px; height: 50px; border-radius: 50%; font-weight: 600; font-size: 24px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center;">+</button>
                <span style="font-size: 0.9rem; color: #f8f9fa;">Añadir mi opinión</span>
            </div>
        </div>
    </div>
</section>



<!-- Modal para añadir testimonios -->
<div id="testimonial-modal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px);">
    <div class="modal-content" style="background-color: #1a2035; margin: 10% auto; padding: 30px; border: 1px solid var(--color-primary); width: 80%; max-width: 600px; border-radius: 10px; box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); position: relative;">
        <span class="close-modal" style="color: #ff7d00; float: right; font-size: 28px; font-weight: bold; cursor: pointer; transition: all 0.3s ease;">&times;</span>
        <h2 style="color: white; text-align: center; margin-bottom: 20px; font-size: 1.8rem;">Comparte tu experiencia</h2>
        <form id="testimonial-form">
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="testimonial-name" style="display: block; color: white; margin-bottom: 8px; font-weight: 500;">Nombre completo</label>
                <input type="text" id="testimonial-name" name="testimonial-name" style="width: 100%; padding: 12px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.1); color: white;" placeholder="Tu nombre" required>
            </div>
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="testimonial-role" style="display: block; color: white; margin-bottom: 8px; font-weight: 500;">Ocupación o empresa</label>
                <input type="text" id="testimonial-role" name="testimonial-role" style="width: 100%; padding: 12px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.1); color: white;" placeholder="Ej: Propietario de negocio, Fotógrafo, etc." required>
            </div>
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="testimonial-text" style="display: block; color: white; margin-bottom: 8px; font-weight: 500;">Tu opinión</label>
                <textarea id="testimonial-text" name="testimonial-text" style="width: 100%; padding: 12px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.1); color: white; height: 120px;" placeholder="Cuéntanos tu experiencia con Freire FPV..." required></textarea>
            </div>
            <button type="submit" style="width: 100%; background-color: #ff7d00; color: white; border: none; padding: 14px; border-radius: 5px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-top: 10px;">Enviar opinión</button>
        </form>
    </div>
</div>

{% endblock %}

{% block styles %}
<style>
    /* Timestamp: {{ range(100000, 999999) | random }} */
    .equipment-link {
        display: block;
        height: 100%;
        text-decoration: none;
        color: inherit;
    }
    
    .equipment-item:hover .equipment-link {
        color: inherit;
    }
    
    .cta-secondary {
        background: #f8f9fa;
        margin-top: 2rem;
        padding: 1.25rem 0;
        border-top: 1px solid #e9ecef;
    }
    
    .cta-secondary h2 {
        color: #333;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
    }
    
    .cta-secondary p {
        color: #333;
        margin-bottom: 0;
        font-size: 0.95rem;
        font-weight: 500;
    }
    
    .cta-secondary .btn-primary {
        background-color: #ff7d00;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }
    
    .cta-secondary .btn-primary:hover {
        background-color: #ff9a40;
        transform: translateY(-2px);
    }
    
    /* Estilos mejorados para la sección de testimonios */
    .testimonials {
        background-color: #1a2035;
        padding: 2rem 0;
        margin-top: 3rem;
        color: #fff;
    }
    
    .testimonials .section-title {
        color: #fff;
        margin-bottom: 1.5rem;
        font-size: 2rem;
        position: relative;
        text-align: center;
    }
    
    .testimonials .section-title:after {
        content: '';
        position: absolute;
        bottom: -12px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(to right, var(--color-primary), var(--color-accent));
        border-radius: 2px;
    }
    
    .testimonial-content {
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 1.5rem;
        margin: 0 auto;
        max-width: 800px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        position: relative;
        border-left: 4px solid var(--color-primary);
    }
    
    .testimonial-content:before {
        content: '"';
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 4rem;
        line-height: 1;
        color: var(--color-primary);
        opacity: 0.3;
        font-family: Georgia, serif;
    }
    
    .testimonial-content p {
        font-size: 1rem;
        line-height: 1.6;
        font-weight: 400;
        color: #fff;
        margin-bottom: 1rem;
        text-align: center;
        font-style: italic;
    }
    
    .client-info {
        text-align: center;
        margin-top: 1rem;
    }
    
    .client-name {
        display: block;
        font-weight: 600;
        color: var(--color-primary);
        font-size: 1.1rem;
        margin-bottom: 0.25rem;
    }
    
    .client-role {
        display: block;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
    }
    
    .testimonial-dots {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
    }
    
    .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.3);
        margin: 0 6px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
    }
    
    .dot.active {
        background-color: var(--color-primary);
        transform: scale(1.2);
    }
    
    .dot:hover {
        background-color: rgba(255, 255, 255, 0.7);
    }
</style>
{% endblock %}

{% block scripts %}
<script>
    // Testimonial slider functionality
    document.addEventListener('DOMContentLoaded', function() {
        const slides = document.querySelectorAll('.testimonial-slide');
        const dots = document.querySelectorAll('.dot');
        const testimonialContainer = document.querySelector('.testimonial-slider');
        const dotsContainer = document.querySelector('.testimonial-dots');
        let currentSlide = 0;

        function showSlide(n) {
            slides.forEach(slide => slide.style.display = 'none');
            dots.forEach(dot => {
                dot.classList.remove('active');
                dot.style.backgroundColor = 'rgba(255, 255, 255, 0.3)';
                dot.style.transform = 'scale(1)';
            });
            
            slides[n].style.display = 'block';
            dots[n].classList.add('active');
            dots[n].style.backgroundColor = 'var(--color-primary)';
            dots[n].style.transform = 'scale(1.2)';
            currentSlide = n;
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        // Initialize
        showSlide(0);
        
        // Auto-rotate with a paused state variable
        let isRotationPaused = false;
        const slideInterval = setInterval(() => {
            if (!isRotationPaused) {
                nextSlide();
            }
        }, 5000);
        
        // Click on dots - pause rotation temporarily when user interacts
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                isRotationPaused = true;
                showSlide(index);
                // Resume auto-rotation after user interaction
                setTimeout(() => {
                    isRotationPaused = false;
                }, 10000);  // Pause for 10 seconds
            });
        });

        // Modal functionality for adding testimonials
        const testimonialModal = document.getElementById('testimonial-modal');
        const addTestimonialBtn = document.getElementById('add-testimonial-btn');
        const closeModalBtn = testimonialModal.querySelector('.close-modal');
        const testimonialForm = document.getElementById('testimonial-form');
        
        // Open modal
        addTestimonialBtn.addEventListener('click', () => {
            testimonialModal.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent scrolling
            isRotationPaused = true; // Pause rotation when modal is open
        });
        
        // Close modal
        closeModalBtn.addEventListener('click', () => {
            testimonialModal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Enable scrolling
            isRotationPaused = false; // Resume rotation
        });
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === testimonialModal) {
                testimonialModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                isRotationPaused = false;
            }
        });
        
        // Handle form submission
        testimonialForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const name = document.getElementById('testimonial-name').value;
            const role = document.getElementById('testimonial-role').value;
            const text = document.getElementById('testimonial-text').value;
            
            // Create new testimonial
            const newTestimonial = createNewTestimonial(name, role, text);
            
            // Add to slider
            testimonialContainer.appendChild(newTestimonial);
            
            // Add new dot
            const newDot = document.createElement('span');
            newDot.className = 'dot';
            newDot.style.width = '12px';
            newDot.style.height = '12px';
            newDot.style.borderRadius = '50%';
            newDot.style.backgroundColor = 'rgba(255, 255, 255, 0.3)';
            newDot.style.margin = '0 6px';
            newDot.style.cursor = 'pointer';
            dotsContainer.appendChild(newDot);
            
            // Update slides and dots arrays
            const allSlides = document.querySelectorAll('.testimonial-slide');
            const allDots = document.querySelectorAll('.dot');
            
            // Add click event to new dot
            newDot.addEventListener('click', () => {
                isRotationPaused = true;
                showSlide(allSlides.length - 1);
                setTimeout(() => {
                    isRotationPaused = false;
                }, 10000);
            });
            
            // Show the new testimonial
            showSlide(allSlides.length - 1);
            
            // Close modal
            testimonialModal.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Reset form
            testimonialForm.reset();
            
            // Show message
            alert('¡Gracias por compartir tu opinión!');
        });
        
        // Function to create new testimonial
        function createNewTestimonial(name, role, text) {
            const today = new Date();
            const day = today.getDate();
            const monthNames = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
            const month = monthNames[today.getMonth()];
            const year = today.getFullYear();
            const dateString = `${day} ${month} ${year}`;
            
            const slide = document.createElement('div');
            slide.className = 'testimonial-slide';
            
            slide.innerHTML = `
                <div class="testimonial-content" style="background-color: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 2rem; margin: 0 auto; max-width: 800px; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); position: relative; border-left: 4px solid var(--color-primary);">
                    <p style="font-size: 1.1rem; line-height: 1.7; font-weight: 400; color: #fff; margin-bottom: 1.5rem; text-align: center; font-style: italic;">"${text}"</p>
                    <div class="client-info" style="text-align: center; margin-top: 1rem;">
                        <span class="client-name" style="display: block; font-weight: 600; color: var(--color-primary); font-size: 1.1rem; margin-bottom: 0.25rem;">${name}</span>
                        <span class="client-role" style="display: block; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">${role}</span>
                        <span class="testimonial-date" style="display: block; color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; margin-top: 0.5rem;">${dateString}</span>
                    </div>
                </div>
            `;
            
            return slide;
        }
    });
</script>
{% endblock %}
